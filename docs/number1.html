<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.520">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="김해찬">

<title>기말고사 1번 문제</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>
<script type="text/javascript">
window.PlotlyConfig = {MathJaxConfig: 'local'};
if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}
if (typeof require !== 'undefined') {
require.undef("plotly");
requirejs.config({
    paths: {
        'plotly': ['https://cdn.plot.ly/plotly-2.27.0.min']
    }
});
require(['plotly'], function(Plotly) {
    window._Plotly = Plotly;
});
}
</script>



</head>

<body class="fullcontent">

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">기말고사 1번 문제</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>김해찬 </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="기말고사1-12" class="level1">
<h1>기말고사1-(1),(2)</h1>
<div id="773a9206" class="cell" title="요일,시간에 따른 평균속력 시각화" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.express <span class="im">as</span> px</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.io <span class="im">as</span> pio</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> json</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pickle</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>pd.options.plotting.backend <span class="op">=</span> <span class="st">"plotly"</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>pio.templates.default <span class="op">=</span> <span class="st">"plotly_white"</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(<span class="st">"https://raw.githubusercontent.com/guebin/DV2023/main/posts/NYCTaxi.csv"</span>).assign(</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>    log_trip_duration <span class="op">=</span> <span class="kw">lambda</span> df: np.log(df.trip_duration),</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>    pickup_datetime <span class="op">=</span> <span class="kw">lambda</span> df: df.pickup_datetime.<span class="bu">apply</span>(pd.to_datetime),</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>    dropoff_datetime <span class="op">=</span> <span class="kw">lambda</span> df: df.dropoff_datetime.<span class="bu">apply</span>(pd.to_datetime),</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>    dist <span class="op">=</span> <span class="kw">lambda</span> df: np.sqrt((df.pickup_latitude<span class="op">-</span>df.dropoff_latitude)<span class="op">**</span><span class="dv">2</span> <span class="op">+</span> (df.pickup_longitude<span class="op">-</span>df.dropoff_longitude)<span class="op">**</span><span class="dv">2</span>),</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>    <span class="co">#---#</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>    vendor_id <span class="op">=</span> <span class="kw">lambda</span> df: df.vendor_id.<span class="bu">map</span>({<span class="dv">1</span>:<span class="st">'A'</span>,<span class="dv">2</span>:<span class="st">'B'</span>})</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>).assign(</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>    speed <span class="op">=</span> <span class="kw">lambda</span> df: df.dist <span class="op">/</span> df.trip_duration,</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>    pickup_hour <span class="op">=</span> <span class="kw">lambda</span> df: df.pickup_datetime.dt.hour,</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>    dropoff_hour <span class="op">=</span> <span class="kw">lambda</span> df: df.dropoff_datetime.dt.hour,</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>    dayofweek <span class="op">=</span> <span class="kw">lambda</span> df: df.pickup_datetime.dt.dayofweek</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>df_small <span class="op">=</span> df[::<span class="dv">100</span>].reset_index(drop<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>df.head()</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>weekday_korean <span class="op">=</span> [<span class="st">'월'</span>, <span class="st">'화'</span>, <span class="st">'수'</span>, <span class="st">'목'</span>, <span class="st">'금'</span>, <span class="st">'토'</span>, <span class="st">'일'</span>]</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>nearby_trips <span class="op">=</span> df[df[<span class="st">'dist'</span>] <span class="op">&lt;</span> <span class="fl">0.012819</span>]</span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>average_speed <span class="op">=</span> nearby_trips.groupby([<span class="st">'dayofweek'</span>, <span class="st">'pickup_hour'</span>])[<span class="st">'speed'</span>].mean().reset_index(name<span class="op">=</span><span class="st">'평균속력'</span>)</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>fig1 <span class="op">=</span> px.density_heatmap(</span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>    data_frame<span class="op">=</span>average_speed,</span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">'pickup_hour'</span>,</span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span><span class="st">'dayofweek'</span>,</span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a>    z<span class="op">=</span><span class="st">'평균속력'</span>,</span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>    nbinsx<span class="op">=</span><span class="dv">24</span>,</span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a>    nbinsy<span class="op">=</span><span class="dv">7</span>,</span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">300</span>,</span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a>fig1.update_layout(</span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a>    xaxis<span class="op">=</span><span class="bu">dict</span>(title<span class="op">=</span><span class="st">'Pickup 시간'</span>),</span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a>    yaxis<span class="op">=</span><span class="bu">dict</span>(</span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a>        title<span class="op">=</span><span class="st">'요일'</span>,</span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a>        tickvals<span class="op">=</span><span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">7</span>)),  <span class="co"># 0부터 6까지의 값으로 요일 설정</span></span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a>        ticktext<span class="op">=</span>weekday_korean   <span class="co"># 한글 요일 텍스트 설정</span></span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true" tabindex="-1"></a>fig1.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>                            <div id="9874f383-a954-49f7-8f26-b1868a4aadb6" class="plotly-graph-div" style="height:300px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("9874f383-a954-49f7-8f26-b1868a4aadb6")) {                    Plotly.newPlot(                        "9874f383-a954-49f7-8f26-b1868a4aadb6",                        [{"coloraxis":"coloraxis","histfunc":"sum","hovertemplate":"pickup_hour=%{x}\u003cbr\u003edayofweek=%{y}\u003cbr\u003esum of \ud3c9\uade0\uc18d\ub825=%{z}\u003cextra\u003e\u003c\u002fextra\u003e","name":"","nbinsx":24,"nbinsy":7,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"xaxis":"x","xbingroup":"x","y":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6],"yaxis":"y","ybingroup":"y","z":[5.723094058125099e-05,3.859453239580768e-05,2.4515322355725505e-05,2.3758530166925242e-05,0.00010253662151545599,4.6349066185552494e-05,5.524251595950722e-05,3.6485581712615164e-05,2.729700905571568e-05,2.3888399810108505e-05,2.7977925818494158e-05,3.082070405534749e-05,2.7202963084635528e-05,3.437187367151645e-05,3.598455095560936e-05,2.3584313004192223e-05,2.971621022270536e-05,3.053557899314495e-05,3.329373391732812e-05,3.2170821325578856e-05,3.379648223049551e-05,3.961164903747433e-05,3.6255751807201486e-05,3.8276493110125314e-05,2.5677448221935806e-05,4.257066478380059e-05,4.234239456675354e-05,5.031606217392172e-05,3.842022008941714e-05,6.751000103939182e-05,3.2883096505735325e-05,3.558874736181375e-05,2.4630726655275126e-05,2.5721216162692458e-05,2.3889480756141817e-05,2.8024272323142035e-05,2.226581323865508e-05,2.651833680008075e-05,3.0370276344401747e-05,2.9644209287273187e-05,2.981642201811735e-05,3.047570695234393e-05,3.163064122461015e-05,3.337318767488735e-05,3.113460672898054e-05,3.780195193586314e-05,3.361939479104654e-05,3.385344848701554e-05,3.278611254946058e-05,5.779114839222702e-05,2.7862666321248623e-05,5.636131418421629e-05,3.8859151518088076e-05,3.43519666181592e-05,5.041773815693046e-05,3.7061679254616166e-05,3.0436272129937817e-05,2.5803331938961496e-05,2.1030860223279826e-05,1.811025811309659e-05,2.3719463701693455e-05,2.803399557857108e-05,2.7232711921183893e-05,2.7871785085867178e-05,3.0612665795429827e-05,2.6340387810375093e-05,2.9374094851375134e-05,3.219231012522816e-05,3.78527566315243e-05,3.0368979332387895e-05,2.9078203773943373e-05,4.2168638731656095e-05,3.871011568212855e-05,4.338314711480122e-05,6.899149104900677e-05,4.310678345966059e-05,4.4402348888487625e-05,3.997590248166644e-05,2.575185121386115e-05,3.0134702762844466e-05,2.649937505159902e-05,2.204466797612663e-05,2.5622692324882268e-05,2.3515122757072032e-05,2.2550414894772936e-05,2.578410253446659e-05,2.4694833126697213e-05,2.7683725961184476e-05,2.177594533621747e-05,3.238927248071606e-05,2.958379225205985e-05,3.615970867578247e-05,2.043268177273862e-05,3.4541503070228866e-05,3.6125191520224597e-05,3.817514548619165e-05,3.326041260354548e-05,3.894988587782446e-05,6.778241066370699e-05,2.7025358149575114e-05,5.849157714090238e-05,4.33580728248973e-05,3.4854900514060424e-05,2.8142262826447962e-05,2.8618326787062755e-05,2.366151254746728e-05,2.6857156323015764e-05,2.5168317120219502e-05,3.888625997779635e-05,2.5615611635183698e-05,2.556784596053668e-05,3.111917091436483e-05,3.144817999433738e-05,3.291689013514608e-05,2.4152928898072615e-05,2.920314031217611e-05,3.1576552197104025e-05,3.2315387854885346e-05,2.983710026950079e-05,4.627883347746749e-05,2.7773578145329388e-05,3.631997095552261e-05,2.3662924009714383e-05,2.88751262726022e-05,3.481895084203151e-05,4.579323880557313e-05,3.158306515688948e-05,4.569617656654318e-05,3.854996022772061e-05,3.5462256071674194e-05,3.4523205876047595e-05,3.298608237105099e-05,2.37379386052421e-05,3.31362657840333e-05,2.630917740744218e-05,3.0137175793010993e-05,2.6407973293941803e-05,2.7394388340584566e-05,2.6206466258467483e-05,2.788798338314243e-05,3.1777919591053626e-05,2.911953736991926e-05,2.9136350314176552e-05,4.457038075834776e-05,3.169424380395911e-05,4.03684446050433e-05,2.7602871793288107e-05,3.076932832172534e-05,3.0249404400810417e-05,4.301809584666796e-05,4.714762438919343e-05,4.4479539043908406e-05,3.2688355721036255e-05,3.342942938384902e-05,3.649589327830831e-05,2.8420826272622926e-05,3.066735122623693e-05,3.0617440583593604e-05,2.5797984188040713e-05,3.3760608829152636e-05,3.0051380708106856e-05,2.924779416154596e-05,3.4421804426976136e-05,3.327416251466723e-05,3.7759245998201744e-05,3.458304054405475e-05,3.7060129142285943e-05],"type":"histogram2d"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"white","polar":{"bgcolor":"white","angularaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""},"radialaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""}},"ternary":{"bgcolor":"white","aaxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"baxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"caxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8","gridwidth":2},"yaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8","gridwidth":2},"zaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"white","subunitcolor":"#C8D4E3","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Pickup \uc2dc\uac04"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"\uc694\uc77c"},"tickvals":[0,1,2,3,4,5,6],"ticktext":["\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0","\uc77c"]},"coloraxis":{"colorbar":{"title":{"text":"sum of \ud3c9\uade0\uc18d\ub825"}},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"legend":{"tracegroupgap":0},"height":300},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('9874f383-a954-49f7-8f26-b1868a4aadb6');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<div id="abaa5e1f" class="cell" title="요일,시간에 따른 평균이동거리 시각화" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>df.dist.describe()</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co"># 월~일 요일 한글 리스트</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>weekday_korean <span class="op">=</span> [<span class="st">'월'</span>, <span class="st">'화'</span>, <span class="st">'수'</span>, <span class="st">'목'</span>, <span class="st">'금'</span>, <span class="st">'토'</span>, <span class="st">'일'</span>]</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co"># 근거리(거리가 0.012819 보다 작은 거리)에 해당하는 데이터 필터링</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="co">#nearby_trips = df[df['dist'] &lt; 0.012819]</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="co"># 이동 거리 대신 평균 이동 거리 계산</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>average_distance <span class="op">=</span> nearby_trips.groupby([<span class="st">'dayofweek'</span>, <span class="st">'pickup_hour'</span>])[<span class="st">'dist'</span>].mean().reset_index(name<span class="op">=</span><span class="st">'평균이동거리'</span>)</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="co"># px.density_heatmap을 사용하여 요일과 시간대에 따른 근거리 이동 건수 시각화</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>fig2 <span class="op">=</span> px.density_heatmap(</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>    data_frame<span class="op">=</span>average_distance,</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">'pickup_hour'</span>,</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span><span class="st">'dayofweek'</span>,</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>    z<span class="op">=</span><span class="st">'평균이동거리'</span>,</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>    nbinsx<span class="op">=</span><span class="dv">24</span>,</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>    nbinsy<span class="op">=</span><span class="dv">7</span>,</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">300</span>,</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>fig2.update_layout(</span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>    xaxis<span class="op">=</span><span class="bu">dict</span>(title<span class="op">=</span><span class="st">'Pickup 시간'</span>),</span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>    yaxis<span class="op">=</span><span class="bu">dict</span>(</span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>        title<span class="op">=</span><span class="st">'요일'</span>,</span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>        tickvals<span class="op">=</span><span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">7</span>)),  <span class="co"># 0부터 6까지의 값으로 요일 설정</span></span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>        ticktext<span class="op">=</span>weekday_korean   <span class="co"># 한글 요일 텍스트 설정</span></span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a>fig2.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>                            <div id="7ac20705-7ec7-4e27-807b-0fd97dbf7f59" class="plotly-graph-div" style="height:300px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("7ac20705-7ec7-4e27-807b-0fd97dbf7f59")) {                    Plotly.newPlot(                        "7ac20705-7ec7-4e27-807b-0fd97dbf7f59",                        [{"coloraxis":"coloraxis","histfunc":"sum","hovertemplate":"pickup_hour=%{x}\u003cbr\u003edayofweek=%{y}\u003cbr\u003esum of \ud3c9\uade0\uc774\ub3d9\uac70\ub9ac=%{z}\u003cextra\u003e\u003c\u002fextra\u003e","name":"","nbinsx":24,"nbinsy":7,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"xaxis":"x","xbingroup":"x","y":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6],"yaxis":"y","ybingroup":"y","z":[0.009233376375673468,0.007153528030150672,0.0068765817842533945,0.007293868761246049,0.00041014648606182394,0.009362511369481604,0.010039712685146009,0.008665127359489627,0.007777884854050066,0.008563180186269552,0.0082950954104001,0.007900343038635703,0.00846214636009306,0.009021240363712373,0.009119294177298193,0.007706841980262449,0.008819888850984803,0.00775188141602615,0.009092046725800317,0.008218808044422522,0.008341529805244892,0.00848011226806858,0.00907128288695938,0.008258668500480404,0.006440496635959095,0.009603688277373703,0.00866023029368965,0.010474622827397468,0.007980532739089037,0.009237207447114693,0.007526752621639717,0.008559128901229169,0.00837283452651087,0.008365904621809996,0.00793899629557927,0.009098350540291752,0.008456897563450676,0.009186309647235777,0.008961960275953704,0.008665979435710186,0.008683561772200995,0.00816769523219761,0.00962084218738906,0.00921469631151836,0.008469818729861075,0.009476850895270512,0.008338953014651424,0.008538405765803093,0.0076255852043318985,0.009034395216433566,0.0070152796420046015,0.005625921057485771,0.009607818731672322,0.007757884200171958,0.009352736514158364,0.008990885378726882,0.00913771012060229,0.008761694571499608,0.008561271651471369,0.007879797755016254,0.008576060715112495,0.00839410368563118,0.008927962705347132,0.0076345923311264,0.00853441109272936,0.008589191840237282,0.00899129018965828,0.008328790095508559,0.009157359131678556,0.009518412742398228,0.007573253923377788,0.009376782756817597,0.008573094338880125,0.008800442675144947,0.00614158744589499,0.007972536767908201,0.008113492024489292,0.008287331017948683,0.008193699972161803,0.008746577210449977,0.009167056959014966,0.008735129309430798,0.00886442628211358,0.00860472622733038,0.008068717825009042,0.007723830078839001,0.00868517332578529,0.008566384599481657,0.008764985886154217,0.008592837582554226,0.008873237939309948,0.008867042968446362,0.008157264332645655,0.008828955720127676,0.008609704316299135,0.008148972181749689,0.007643503310933298,0.00959523537163068,0.004072397886189928,0.0052350349149671415,0.008491455805573011,0.007866071003429885,0.009570864852842587,0.00908265578580733,0.009246767488864058,0.009106485212944809,0.008833531822511481,0.008548302044811613,0.008342304063591623,0.007280423010875149,0.008274636291249653,0.009703292398166127,0.008281770883828251,0.008742689753526454,0.007870244348508944,0.007913572104723878,0.008669129249145691,0.00851225852535362,0.008555514691767423,0.008686451239744312,0.008765527188671698,0.009172846499062765,0.00494448607604259,0.00510777852420354,0.008813446480431707,0.008149199689401025,0.009002423861803027,0.00713716455805906,0.009220894642116471,0.009731121965070456,0.008034101263131404,0.00883307216517952,0.009118071021054028,0.008825693266533282,0.00870455487459557,0.008340529160689156,0.008292697071584355,0.00963724013837645,0.008783518794226263,0.008946934809321279,0.008816756218904606,0.0085509599614956,0.008486280267587262,0.009558217113599714,0.007759215110871051,0.007869392603896453,0.008142214370748994,0.005636140468464954,0.007067408882797081,0.011270741111827005,0.008666506831436195,0.008930691977326837,0.007564587115372305,0.009780726681073828,0.010130921407364732,0.008525576515928873,0.008579785813441541,0.008610923765461612,0.00806958023604832,0.009780832032787675,0.007459278264801831,0.00898890099344537,0.007822046895649961,0.008321813376771578,0.007505666884232434,0.00867163043023109,0.009336703172188102],"type":"histogram2d"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"white","polar":{"bgcolor":"white","angularaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""},"radialaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""}},"ternary":{"bgcolor":"white","aaxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"baxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"caxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8","gridwidth":2},"yaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8","gridwidth":2},"zaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"white","subunitcolor":"#C8D4E3","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Pickup \uc2dc\uac04"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"\uc694\uc77c"},"tickvals":[0,1,2,3,4,5,6],"ticktext":["\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0","\uc77c"]},"coloraxis":{"colorbar":{"title":{"text":"sum of \ud3c9\uade0\uc774\ub3d9\uac70\ub9ac"}},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"legend":{"tracegroupgap":0},"height":300},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('7ac20705-7ec7-4e27-807b-0fd97dbf7f59');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
</section>
<section id="기말고사1-3" class="level1">
<h1>기말고사1-(3)</h1>
<div id="eba3f828" class="cell" title="속력별 경로 시각화" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>speed <span class="op">=</span> pd.Series([<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">4</span>])</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(pd.qcut(speed,<span class="dv">4</span>))</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(pd.qcut(speed,<span class="dv">4</span>,labels<span class="op">=</span>[<span class="st">'매우느림'</span>,<span class="st">'조금느림'</span>,<span class="st">'조금빠름'</span>,<span class="st">'매우빠름'</span>]))</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>df_small[<span class="st">'평균속도'</span>] <span class="op">=</span> pd.qcut(df_small[<span class="st">'speed'</span>], <span class="dv">4</span>, labels<span class="op">=</span>[<span class="st">'매우느림'</span>, <span class="st">'조금느림'</span>, <span class="st">'조금빠름'</span>, <span class="st">'매우빠름'</span>])</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="co"># 색상 매핑을 위한 딕셔너리 생성</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>color_map <span class="op">=</span> {</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>     <span class="st">'조금느림'</span>: <span class="st">'yellow'</span>,</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>     <span class="st">'매우느림'</span>: <span class="st">'green'</span>,</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>     <span class="st">'매우빠름'</span>: <span class="st">'blue'</span>,</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>     <span class="st">'조금빠름'</span>: <span class="st">'red'</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Scatter Mapbox 생성</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>fig3 <span class="op">=</span> px.scatter_mapbox(</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>    data_frame<span class="op">=</span>df_small,</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>    lat<span class="op">=</span><span class="st">'dropoff_latitude'</span>,</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>    lon<span class="op">=</span><span class="st">'dropoff_longitude'</span>,</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>    color<span class="op">=</span><span class="st">'평균속도'</span>,</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>    mapbox_style<span class="op">=</span><span class="st">'carto-positron'</span>,</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>    zoom<span class="op">=</span><span class="dv">11</span>,</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>    color_discrete_map<span class="op">=</span>color_map  <span class="co"># 색상 매핑을 적용합니다.</span></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a><span class="co"># 속도 구간에 따라 승차와 하차 지점을 연결하는 선 추가</span></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> index, row <span class="kw">in</span> df_small.iterrows():</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>    fig3.add_trace(</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>        <span class="bu">dict</span>(</span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>            <span class="bu">type</span><span class="op">=</span><span class="st">'scattermapbox'</span>,</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>            lat<span class="op">=</span>[row[<span class="st">'pickup_latitude'</span>], row[<span class="st">'dropoff_latitude'</span>]],</span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>            lon<span class="op">=</span>[row[<span class="st">'pickup_longitude'</span>], row[<span class="st">'dropoff_longitude'</span>]],</span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>            mode<span class="op">=</span><span class="st">'lines'</span>,</span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>            line<span class="op">=</span><span class="bu">dict</span>(width<span class="op">=</span><span class="dv">2</span>, color<span class="op">=</span>color_map[row[<span class="st">'평균속도'</span>]]),  <span class="co"># 속도 구간에 따라 색상 설정</span></span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>            hoverinfo<span class="op">=</span><span class="st">'none'</span>,</span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>            showlegend<span class="op">=</span><span class="va">False</span></span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a>fig3.show(config<span class="op">=</span>{<span class="st">'scrollZoom'</span>: <span class="va">False</span>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>0    (0.999, 1.75]
1    (0.999, 1.75]
2      (1.75, 2.5]
3      (1.75, 2.5]
4      (2.5, 3.25]
5      (2.5, 3.25]
6      (3.25, 4.0]
7      (3.25, 4.0]
dtype: category
Categories (4, interval[float64, right]): [(0.999, 1.75] &lt; (1.75, 2.5] &lt; (2.5, 3.25] &lt; (3.25, 4.0]]
0    매우느림
1    매우느림
2    조금느림
3    조금느림
4    조금빠름
5    조금빠름
6    매우빠름
7    매우빠름
dtype: category
Categories (4, object): ['매우느림' &lt; '조금느림' &lt; '조금빠름' &lt; '매우빠름']</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>/root/anaconda3/envs/dv2023/lib/python3.10/site-packages/plotly/express/_core.py:2044: FutureWarning:

The default of observed=False is deprecated and will be changed to True in a future version of pandas. Pass observed=False to retain current behavior or observed=True to adopt the future default and silence this warning.
</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>                            <div id="c6db5ea1-d1d3-4355-a713-a8d281045123" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("c6db5ea1-d1d3-4355-a713-a8d281045123")) {                    Plotly.newPlot(                        "c6db5ea1-d1d3-4355-a713-a8d281045123",                        [{"hovertemplate":"\ud3c9\uade0\uc18d\ub3c4=\uc870\uae08\ube60\ub984\u003cbr\u003edropoff_latitude=%{lat}\u003cbr\u003edropoff_longitude=%{lon}\u003cextra\u003e\u003c\u002fextra\u003e","lat":[40.765602111816406,40.74626541137695,40.831321716308594,40.75713348388672,40.655078887939446,40.78954315185546,40.79996109008789,40.790283203125,40.739990234375,40.76946258544922,40.71483612060546,40.78279113769531,40.72493362426758,40.68634033203125,40.785789489746094,40.76800155639648,40.76827239990234,40.79747772216797,40.73714065551758,40.74041366577149,40.75947952270508,40.76385116577149,40.73417663574219,40.67301177978516,40.7554817199707,40.77785873413086,40.72474670410156,40.805000305175774,40.78049087524414,40.77749633789063,40.7891731262207,40.782241821289055,40.77379989624024,40.77115631103516,40.78654861450195,40.69548034667969],"legendgroup":"\uc870\uae08\ube60\ub984","lon":[-73.96463012695312,-73.97246551513672,-73.89300537109375,-73.9832763671875,-73.955322265625,-73.96743774414062,-73.9586410522461,-73.96560668945312,-73.98188781738281,-73.92103576660156,-74.0139389038086,-73.95319366455078,-73.9950942993164,-73.97468566894531,-73.9532470703125,-73.97037506103516,-73.95292663574217,-73.96974182128906,-73.99044036865233,-73.98683166503906,-73.99555969238281,-73.96236419677734,-73.99500274658203,-73.96280670166014,-73.97085571289062,-73.94394683837889,-74.00196075439453,-73.93858337402342,-73.94779968261719,-73.9781494140625,-73.9527587890625,-73.94640350341797,-73.97776794433594,-73.98324584960938,-73.97239685058595,-73.99742889404298],"marker":{"color":"red"},"mode":"markers","name":"\uc870\uae08\ube60\ub984","showlegend":true,"subplot":"mapbox","type":"scattermapbox"},{"hovertemplate":"\ud3c9\uade0\uc18d\ub3c4=\ub9e4\uc6b0\ube60\ub984\u003cbr\u003edropoff_latitude=%{lat}\u003cbr\u003edropoff_longitude=%{lon}\u003cextra\u003e\u003c\u002fextra\u003e","lat":[40.746219635009766,40.63109970092773,40.832279205322266,40.78382110595703,40.73809051513672,40.76717758178711,40.76654052734375,40.73556137084961,40.70578384399414,40.796680450439446,40.762725830078125,40.705509185791016,40.74818420410156,40.77589797973633,40.68381118774414,40.76678466796875,40.78129196166992,40.752979278564446,40.76536560058594,40.6446418762207,40.7630729675293,40.77658081054688,40.76887130737305,40.80038070678711,40.77399826049805,40.70998001098633,40.70872116088867,40.66177749633789,40.740058898925774,40.75309753417969,40.744606018066406,40.783740997314446,40.77948760986328,40.72767639160156,40.75593185424805,40.72272872924805,40.73513412475586],"legendgroup":"\ub9e4\uc6b0\ube60\ub984","lon":[-73.99799346923827,-74.02571868896483,-73.94233703613281,-73.97989654541014,-74.05081176757811,-73.99046325683594,-73.99016571044923,-73.99239349365233,-74.00952911376953,-73.96269226074217,-73.92682647705078,-74.00707244873048,-73.97811889648438,-73.96086883544923,-73.9951629638672,-73.95954132080078,-73.9521942138672,-73.97933197021484,-73.9659652709961,-73.77690124511719,-73.98128509521484,-73.96205139160156,-73.95445251464845,-73.96750640869139,-73.95751190185547,-74.005126953125,-73.9399185180664,-73.82536315917967,-73.99530029296875,-73.99340057373048,-73.97144317626953,-73.95669555664062,-73.95057678222656,-74.00334930419923,-73.91887664794923,-74.00621795654298,-74.00606536865233],"marker":{"color":"blue"},"mode":"markers","name":"\ub9e4\uc6b0\ube60\ub984","showlegend":true,"subplot":"mapbox","type":"scattermapbox"},{"hovertemplate":"\ud3c9\uade0\uc18d\ub3c4=\ub9e4\uc6b0\ub290\ub9bc\u003cbr\u003edropoff_latitude=%{lat}\u003cbr\u003edropoff_longitude=%{lon}\u003cextra\u003e\u003c\u002fextra\u003e","lat":[40.7793083190918,40.74211883544922,40.74566268920898,40.781299591064446,40.735721588134766,40.71965026855469,40.72389602661133,40.79790878295898,40.771968841552734,40.74722671508789,40.74677658081056,40.75000762939453,40.75249862670898,40.75983047485352,40.71963119506836,40.79058837890625,40.761749267578125,40.743770599365234,40.76454162597656,40.734371185302734,40.746257781982415,40.77534103393555,40.74275970458984,40.74413299560546,40.777099609375,40.77495956420898,40.74169921875,40.70901870727539,40.72117233276367,40.7302360534668,40.77871322631836,40.730018615722656,40.75261306762695,40.75505065917969,40.761695861816406,40.76266860961913,40.804832458496094],"legendgroup":"\ub9e4\uc6b0\ub290\ub9bc","lon":[-73.96006774902342,-73.97466278076173,-73.98463439941406,-73.981201171875,-73.98265838623048,-73.9946060180664,-74.00457000732422,-73.97329711914062,-73.9827423095703,-73.9910430908203,-74.00828552246092,-73.99179077148438,-73.97853851318358,-73.97090148925781,-73.99542999267578,-73.949951171875,-73.97138977050781,-73.98335266113281,-73.97366333007811,-73.98973846435547,-73.98580169677734,-73.96501922607422,-73.97737884521484,-74.00689697265625,-73.97775268554686,-73.98088073730467,-73.97492218017578,-74.0118637084961,-73.98760986328125,-73.99922180175781,-73.9814453125,-74.00050354003906,-73.98545074462889,-73.97960662841797,-74.00177764892578,-73.98597717285155,-73.96610260009764],"marker":{"color":"green"},"mode":"markers","name":"\ub9e4\uc6b0\ub290\ub9bc","showlegend":true,"subplot":"mapbox","type":"scattermapbox"},{"hovertemplate":"\ud3c9\uade0\uc18d\ub3c4=\uc870\uae08\ub290\ub9bc\u003cbr\u003edropoff_latitude=%{lat}\u003cbr\u003edropoff_longitude=%{lon}\u003cextra\u003e\u003c\u002fextra\u003e","lat":[40.7098503112793,40.756885528564446,40.75412368774414,40.777881622314446,40.74748611450195,40.75766372680664,40.76081848144531,40.79889678955078,40.76899337768555,40.7630615234375,40.6697654724121,40.755836486816406,40.73473739624024,40.7665901184082,40.75112533569336,40.73989868164063,40.7457275390625,40.71076965332031,40.76554107666016,40.759868621826165,40.7564582824707,40.7463493347168,40.75320816040039,40.79518127441406,40.75085067749024,40.74463272094727,40.763145446777344,40.74227523803711,40.762859344482415,40.7617416381836,40.7509651184082,40.74427795410156,40.75751876831056,40.76767349243164,40.73919296264648,40.79246139526367],"legendgroup":"\uc870\uae08\ub290\ub9bc","lon":[-73.96215057373048,-73.9898910522461,-73.97389221191406,-73.98873138427734,-73.97697448730467,-73.98356628417967,-73.97960662841797,-73.96857452392578,-73.96334075927734,-73.97570037841797,-73.97919464111328,-73.9784927368164,-74.0038833618164,-73.98652648925781,-73.97836303710938,-73.98174285888672,-73.9908905029297,-74.01339721679686,-73.97640228271484,-73.96180725097656,-74.00170135498048,-73.97167205810547,-73.98626708984375,-73.96575927734375,-73.97830963134764,-73.97919464111328,-73.96985626220702,-73.98967742919923,-73.98892211914062,-73.96864318847656,-73.97477722167967,-73.98767852783203,-73.98204803466798,-73.98075866699219,-73.98406982421875,-73.94084167480467],"marker":{"color":"yellow"},"mode":"markers","name":"\uc870\uae08\ub290\ub9bc","showlegend":true,"subplot":"mapbox","type":"scattermapbox"},{"hoverinfo":"none","lat":[40.76793670654297,40.765602111816406],"line":{"color":"red","width":2},"lon":[-73.98215484619139,-73.96463012695312],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.73052978515625,40.746219635009766],"line":{"color":"blue","width":2},"lon":[-73.98052215576173,-73.99799346923827],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.7683982849121,40.7793083190918],"line":{"color":"green","width":2},"lon":[-73.9656524658203,-73.96006774902342],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.75918960571289,40.7098503112793],"line":{"color":"yellow","width":2},"lon":[-73.98509216308595,-73.96215057373048],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.75043869018555,40.63109970092773],"line":{"color":"blue","width":2},"lon":[-73.99453735351561,-74.02571868896483],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.764122009277344,40.74626541137695],"line":{"color":"red","width":2},"lon":[-73.9558334350586,-73.97246551513672],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.74432373046875,40.74211883544922],"line":{"color":"green","width":2},"lon":[-73.98423767089844,-73.97466278076173],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.862701416015625,40.831321716308594],"line":{"color":"red","width":2},"lon":[-73.90413665771484,-73.89300537109375],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.64477157592773,40.832279205322266],"line":{"color":"blue","width":2},"lon":[-73.78182983398438,-73.94233703613281],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.74981689453125,40.756885528564446],"line":{"color":"yellow","width":2},"lon":[-73.99140167236328,-73.9898910522461],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.79136657714844,40.78382110595703],"line":{"color":"blue","width":2},"lon":[-73.97394561767578,-73.97989654541014],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.7334213256836,40.75713348388672],"line":{"color":"red","width":2},"lon":[-74.00246429443358,-73.9832763671875],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.77298355102539,40.75412368774414],"line":{"color":"yellow","width":2},"lon":[-73.9782943725586,-73.97389221191406],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.7253303527832,40.777881622314446],"line":{"color":"yellow","width":2},"lon":[-73.99237060546875,-73.98873138427734],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.7249755859375,40.655078887939446],"line":{"color":"red","width":2},"lon":[-73.9844207763672,-73.955322265625],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.76215744018555,40.74748611450195],"line":{"color":"yellow","width":2},"lon":[-73.98597717285155,-73.97697448730467],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.79740524291992,40.78954315185546],"line":{"color":"red","width":2},"lon":[-73.94892883300781,-73.96743774414062],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.72843170166016,40.73809051513672],"line":{"color":"blue","width":2},"lon":[-73.99981689453125,-74.05081176757811],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.72234725952149,40.74566268920898],"line":{"color":"green","width":2},"lon":[-73.99722290039062,-73.98463439941406],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.78168487548828,40.781299591064446],"line":{"color":"green","width":2},"lon":[-73.98113250732422,-73.981201171875],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.81560134887695,40.79996109008789],"line":{"color":"red","width":2},"lon":[-73.93981170654298,-73.9586410522461],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.80809020996094,40.76717758178711],"line":{"color":"blue","width":2},"lon":[-73.9640121459961,-73.99046325683594],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.75810241699219,40.790283203125],"line":{"color":"red","width":2},"lon":[-73.96311950683594,-73.96560668945312],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.739540100097656,40.735721588134766],"line":{"color":"green","width":2},"lon":[-73.98706817626953,-73.98265838623048],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.72407150268555,40.75766372680664],"line":{"color":"yellow","width":2},"lon":[-74.00241088867188,-73.98356628417967],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.72530364990234,40.71965026855469],"line":{"color":"green","width":2},"lon":[-73.9925537109375,-73.9946060180664],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.72259521484375,40.72389602661133],"line":{"color":"green","width":2},"lon":[-74.00528717041014,-74.00457000732422],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.763973236083984,40.76081848144531],"line":{"color":"yellow","width":2},"lon":[-73.99028778076173,-73.97960662841797],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.76192474365234,40.76654052734375],"line":{"color":"blue","width":2},"lon":[-73.97914123535155,-73.99016571044923],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.752891540527344,40.739990234375],"line":{"color":"red","width":2},"lon":[-73.97013854980467,-73.98188781738281],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.794048309326165,40.79790878295898],"line":{"color":"green","width":2},"lon":[-73.97196960449217,-73.97329711914062],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.757469177246094,40.771968841552734],"line":{"color":"green","width":2},"lon":[-73.96942901611328,-73.9827423095703],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.74184036254882,40.74722671508789],"line":{"color":"green","width":2},"lon":[-74.0008773803711,-73.9910430908203],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.73777770996094,40.74677658081056],"line":{"color":"green","width":2},"lon":[-73.99762725830078,-74.00828552246092],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.761756896972656,40.76946258544922],"line":{"color":"red","width":2},"lon":[-73.96741485595702,-73.92103576660156],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.74108123779297,40.73556137084961],"line":{"color":"blue","width":2},"lon":[-74.00586700439453,-73.99239349365233],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.76555252075195,40.79889678955078],"line":{"color":"yellow","width":2},"lon":[-73.96790313720702,-73.96857452392578],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.789600372314446,40.71483612060546],"line":{"color":"red","width":2},"lon":[-73.97001647949219,-74.0139389038086],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.643508911132805,40.70578384399414],"line":{"color":"blue","width":2},"lon":[-73.79021453857422,-74.00952911376953],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.770069122314446,40.78279113769531],"line":{"color":"red","width":2},"lon":[-73.98792266845702,-73.95319366455078],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.76704025268555,40.76899337768555],"line":{"color":"yellow","width":2},"lon":[-73.95381164550781,-73.96334075927734],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.74380493164063,40.75000762939453],"line":{"color":"green","width":2},"lon":[-73.98795318603516,-73.99179077148438],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.75821304321289,40.796680450439446],"line":{"color":"blue","width":2},"lon":[-73.98886108398438,-73.96269226074217],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.7467155456543,40.75249862670898],"line":{"color":"green","width":2},"lon":[-73.98993682861328,-73.97853851318358],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.74464797973633,40.72493362426758],"line":{"color":"red","width":2},"lon":[-73.99140930175781,-73.9950942993164],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.76905059814453,40.7630615234375],"line":{"color":"yellow","width":2},"lon":[-73.98491668701173,-73.97570037841797],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.74908065795898,40.6697654724121],"line":{"color":"yellow","width":2},"lon":[-74.00839233398438,-73.97919464111328],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.75983047485352,40.75983047485352],"line":{"color":"green","width":2},"lon":[-73.97090148925781,-73.97090148925781],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.7724494934082,40.755836486816406],"line":{"color":"yellow","width":2},"lon":[-73.96265411376953,-73.9784927368164],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.72257232666016,40.68634033203125],"line":{"color":"red","width":2},"lon":[-74.00359344482422,-73.97468566894531],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.7226448059082,40.73473739624024],"line":{"color":"yellow","width":2},"lon":[-73.98736572265625,-74.0038833618164],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.77674865722656,40.785789489746094],"line":{"color":"red","width":2},"lon":[-73.95974731445312,-73.9532470703125],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.76341247558594,40.71963119506836],"line":{"color":"green","width":2},"lon":[-73.98194122314453,-73.99542999267578],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.79840850830078,40.79058837890625],"line":{"color":"green","width":2},"lon":[-73.95243072509764,-73.949951171875],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.75624084472656,40.7665901184082],"line":{"color":"yellow","width":2},"lon":[-73.97042846679686,-73.98652648925781],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.763519287109375,40.761749267578125],"line":{"color":"green","width":2},"lon":[-73.96932220458984,-73.97138977050781],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.73820495605469,40.75112533569336],"line":{"color":"yellow","width":2},"lon":[-73.98540496826173,-73.97836303710938],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.730010986328125,40.73989868164063],"line":{"color":"yellow","width":2},"lon":[-73.9792709350586,-73.98174285888672],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.75796890258789,40.743770599365234],"line":{"color":"green","width":2},"lon":[-73.98609161376953,-73.98335266113281],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.76140594482422,40.76454162597656],"line":{"color":"green","width":2},"lon":[-73.97090911865233,-73.97366333007811],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.75623321533203,40.734371185302734],"line":{"color":"green","width":2},"lon":[-73.99331665039062,-73.98973846435547],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.71868896484375,40.7457275390625],"line":{"color":"yellow","width":2},"lon":[-74.0053482055664,-73.9908905029297],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.76067352294922,40.762725830078125],"line":{"color":"blue","width":2},"lon":[-73.98724365234375,-73.92682647705078],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.78261184692384,40.76800155639648],"line":{"color":"red","width":2},"lon":[-73.95343017578125,-73.97037506103516],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.74298095703125,40.71076965332031],"line":{"color":"yellow","width":2},"lon":[-73.98845672607422,-74.01339721679686],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.75128173828125,40.76827239990234],"line":{"color":"red","width":2},"lon":[-73.93987274169923,-73.95292663574217],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.77922821044922,40.746257781982415],"line":{"color":"green","width":2},"lon":[-73.95587921142578,-73.98580169677734],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.80135726928711,40.79747772216797],"line":{"color":"red","width":2},"lon":[-73.95948791503906,-73.96974182128906],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.755401611328125,40.705509185791016],"line":{"color":"blue","width":2},"lon":[-73.96813201904298,-74.00707244873048],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.738807678222656,40.74818420410156],"line":{"color":"blue","width":2},"lon":[-73.98301696777342,-73.97811889648438],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.73553085327149,40.76554107666016],"line":{"color":"yellow","width":2},"lon":[-73.98988342285155,-73.97640228271484],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.784122467041016,40.77589797973633],"line":{"color":"blue","width":2},"lon":[-73.9544906616211,-73.96086883544923],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.72565841674805,40.73714065551758],"line":{"color":"red","width":2},"lon":[-73.99471282958984,-73.99044036865233],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.776123046875,40.77534103393555],"line":{"color":"green","width":2},"lon":[-73.96235656738281,-73.96501922607422],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.74114227294922,40.68381118774414],"line":{"color":"blue","width":2},"lon":[-73.99011993408203,-73.9951629638672],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.755126953125,40.74041366577149],"line":{"color":"red","width":2},"lon":[-73.9874267578125,-73.98683166503906],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.75054931640625,40.759868621826165],"line":{"color":"yellow","width":2},"lon":[-73.97480010986328,-73.96180725097656],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.744510650634766,40.7564582824707],"line":{"color":"yellow","width":2},"lon":[-73.98111724853516,-74.00170135498048],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.749908447265625,40.75947952270508],"line":{"color":"red","width":2},"lon":[-73.9881591796875,-73.99555969238281],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.76290130615234,40.74275970458984],"line":{"color":"green","width":2},"lon":[-73.98320770263672,-73.97737884521484],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.77938079833984,40.76678466796875],"line":{"color":"blue","width":2},"lon":[-73.94471740722656,-73.95954132080078],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.7393684387207,40.74413299560546],"line":{"color":"green","width":2},"lon":[-74.00737762451173,-74.00689697265625],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.742500305175774,40.7463493347168],"line":{"color":"yellow","width":2},"lon":[-73.97420501708984,-73.97167205810547],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.64687347412109,40.78129196166992],"line":{"color":"blue","width":2},"lon":[-73.79014587402342,-73.9521942138672],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.7640037536621,40.76385116577149],"line":{"color":"red","width":2},"lon":[-73.97434234619139,-73.96236419677734],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.746826171875,40.777099609375],"line":{"color":"green","width":2},"lon":[-73.99005889892578,-73.97775268554686],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.74989700317384,40.73417663574219],"line":{"color":"red","width":2},"lon":[-73.99164581298828,-73.99500274658203],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.70758056640625,40.752979278564446],"line":{"color":"blue","width":2},"lon":[-74.00406646728516,-73.97933197021484],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.7714958190918,40.75320816040039],"line":{"color":"yellow","width":2},"lon":[-73.95969390869139,-73.98626708984375],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.73410034179688,40.67301177978516],"line":{"color":"red","width":2},"lon":[-73.9994888305664,-73.96280670166014],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.77154159545898,40.77495956420898],"line":{"color":"green","width":2},"lon":[-73.9818115234375,-73.98088073730467],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.744140625,40.74169921875],"line":{"color":"green","width":2},"lon":[-73.97913360595702,-73.97492218017578],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.760250091552734,40.79518127441406],"line":{"color":"yellow","width":2},"lon":[-73.96861267089844,-73.96575927734375],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.70718383789063,40.70901870727539],"line":{"color":"green","width":2},"lon":[-74.01651763916014,-74.0118637084961],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.74156188964844,40.75085067749024],"line":{"color":"yellow","width":2},"lon":[-73.993896484375,-73.97830963134764],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.74057769775391,40.7554817199707],"line":{"color":"red","width":2},"lon":[-73.97972869873048,-73.97085571289062],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.759124755859375,40.74463272094727],"line":{"color":"yellow","width":2},"lon":[-73.97645568847656,-73.97919464111328],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.75857162475586,40.77785873413086],"line":{"color":"red","width":2},"lon":[-73.96356964111328,-73.94394683837889],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.78065872192384,40.76536560058594],"line":{"color":"blue","width":2},"lon":[-73.98385620117188,-73.9659652709961],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.75567626953125,40.72474670410156],"line":{"color":"red","width":2},"lon":[-73.96500396728516,-74.00196075439453],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.737281799316406,40.6446418762207],"line":{"color":"blue","width":2},"lon":[-74.00069427490233,-73.77690124511719],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.76673126220703,40.805000305175774],"line":{"color":"red","width":2},"lon":[-73.96306610107422,-73.93858337402342],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.74240493774414,40.72117233276367],"line":{"color":"green","width":2},"lon":[-74.00107574462889,-73.98760986328125],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.82606887817384,40.7630729675293],"line":{"color":"blue","width":2},"lon":[-73.94337463378906,-73.98128509521484],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.767120361328125,40.77658081054688],"line":{"color":"blue","width":2},"lon":[-73.9688720703125,-73.96205139160156],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.75527572631836,40.76887130737305],"line":{"color":"blue","width":2},"lon":[-73.96514892578125,-73.95445251464845],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.80709838867188,40.80038070678711],"line":{"color":"blue","width":2},"lon":[-73.95350646972656,-73.96750640869139],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.768253326416016,40.77399826049805],"line":{"color":"blue","width":2},"lon":[-73.98240661621094,-73.95751190185547],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.64693832397461,40.70998001098633],"line":{"color":"blue","width":2},"lon":[-73.78984832763672,-74.005126953125],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.64469146728516,40.70872116088867],"line":{"color":"blue","width":2},"lon":[-73.78196716308595,-73.9399185180664],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.7324447631836,40.7302360534668],"line":{"color":"green","width":2},"lon":[-74.00647735595702,-73.99922180175781],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.750431060791016,40.78049087524414],"line":{"color":"red","width":2},"lon":[-73.98802947998048,-73.94779968261719],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.773601531982415,40.66177749633789],"line":{"color":"blue","width":2},"lon":[-73.87093353271484,-73.82536315917967],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.78596115112305,40.77871322631836],"line":{"color":"green","width":2},"lon":[-73.97699737548828,-73.9814453125],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.756568908691406,40.740058898925774],"line":{"color":"blue","width":2},"lon":[-73.98641967773438,-73.99530029296875],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.645286560058594,40.75309753417969],"line":{"color":"blue","width":2},"lon":[-73.7766876220703,-73.99340057373048],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.76424789428711,40.763145446777344],"line":{"color":"yellow","width":2},"lon":[-73.95646667480467,-73.96985626220702],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.78201675415039,40.77749633789063],"line":{"color":"red","width":2},"lon":[-73.97631072998048,-73.9781494140625],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.768848419189446,40.744606018066406],"line":{"color":"blue","width":2},"lon":[-73.86279296875,-73.97144317626953],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.794429779052734,40.7891731262207],"line":{"color":"red","width":2},"lon":[-73.97160339355469,-73.9527587890625],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.74530792236328,40.74227523803711],"line":{"color":"yellow","width":2},"lon":[-74.00784301757811,-73.98967742919923],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.75419235229492,40.762859344482415],"line":{"color":"yellow","width":2},"lon":[-73.97592163085938,-73.98892211914062],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.76359939575195,40.7617416381836],"line":{"color":"yellow","width":2},"lon":[-73.98738861083984,-73.96864318847656],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.64473342895508,40.782241821289055],"line":{"color":"red","width":2},"lon":[-73.78192138671875,-73.94640350341797],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.74673461914063,40.7509651184082],"line":{"color":"yellow","width":2},"lon":[-73.97140502929686,-73.97477722167967],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.73308181762695,40.730018615722656],"line":{"color":"green","width":2},"lon":[-74.00662231445312,-74.00050354003906],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.78641128540039,40.77379989624024],"line":{"color":"red","width":2},"lon":[-73.95282745361328,-73.97776794433594],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.76639175415039,40.75261306762695],"line":{"color":"green","width":2},"lon":[-73.96286010742188,-73.98545074462889],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.76412582397461,40.783740997314446],"line":{"color":"blue","width":2},"lon":[-73.97107696533203,-73.95669555664062],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.73915481567384,40.74427795410156],"line":{"color":"yellow","width":2},"lon":[-73.99610137939453,-73.98767852783203],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.75053024291992,40.75751876831056],"line":{"color":"yellow","width":2},"lon":[-73.98738098144531,-73.98204803466798],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.773868560791016,40.75505065917969],"line":{"color":"green","width":2},"lon":[-73.98236846923827,-73.97960662841797],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.766788482666016,40.77115631103516],"line":{"color":"red","width":2},"lon":[-73.96295928955078,-73.98324584960938],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.78915786743164,40.77948760986328],"line":{"color":"blue","width":2},"lon":[-73.94364166259764,-73.95057678222656],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.75484848022461,40.72767639160156],"line":{"color":"blue","width":2},"lon":[-73.98343658447266,-74.00334930419923],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.734493255615234,40.78654861450195],"line":{"color":"red","width":2},"lon":[-74.00151824951173,-73.97239685058595],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.709976196289055,40.69548034667969],"line":{"color":"red","width":2},"lon":[-74.00458526611328,-73.99742889404298],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.75823974609375,40.75593185424805],"line":{"color":"blue","width":2},"lon":[-73.98924255371094,-73.91887664794923],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.74729537963867,40.761695861816406],"line":{"color":"green","width":2},"lon":[-73.98175048828125,-74.00177764892578],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.777053833007805,40.76767349243164],"line":{"color":"yellow","width":2},"lon":[-73.98257446289062,-73.98075866699219],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.74143600463867,40.73919296264648],"line":{"color":"yellow","width":2},"lon":[-73.95230865478516,-73.98406982421875],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.743614196777344,40.72272872924805],"line":{"color":"blue","width":2},"lon":[-73.95078277587889,-74.00621795654298],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.78707885742188,40.79246139526367],"line":{"color":"yellow","width":2},"lon":[-73.95390319824217,-73.94084167480467],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.71914291381836,40.73513412475586],"line":{"color":"blue","width":2},"lon":[-74.00506591796875,-74.00606536865233],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.72243118286133,40.76266860961913],"line":{"color":"green","width":2},"lon":[-73.98615264892578,-73.98597717285155],"mode":"lines","showlegend":false,"type":"scattermapbox"},{"hoverinfo":"none","lat":[40.78450012207031,40.804832458496094],"line":{"color":"green","width":2},"lon":[-73.95220947265625,-73.96610260009764],"mode":"lines","showlegend":false,"type":"scattermapbox"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"white","polar":{"bgcolor":"white","angularaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""},"radialaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""}},"ternary":{"bgcolor":"white","aaxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"baxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"caxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8","gridwidth":2},"yaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8","gridwidth":2},"zaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"white","subunitcolor":"#C8D4E3","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"mapbox":{"domain":{"x":[0.0,1.0],"y":[0.0,1.0]},"center":{"lat":40.75272625439788,"lon":-73.97509577502943},"zoom":11,"style":"carto-positron"},"legend":{"title":{"text":"\ud3c9\uade0\uc18d\ub3c4"},"tracegroupgap":0}},                        {"scrollZoom": false, "responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('c6db5ea1-d1d3-4355-a713-a8d281045123');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    const typesetMath = (el) => {
      if (window.MathJax) {
        // MathJax Typeset
        window.MathJax.typeset([el]);
      } else if (window.katex) {
        // KaTeX Render
        var mathElements = el.getElementsByClassName("math");
        var macros = [];
        for (var i = 0; i < mathElements.length; i++) {
          var texText = mathElements[i].firstChild;
          if (mathElements[i].tagName == "SPAN") {
            window.katex.render(texText.data, mathElements[i], {
              displayMode: mathElements[i].classList.contains('display'),
              throwOnError: false,
              macros: macros,
              fleqn: false
            });
          }
        }
      }
    }
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        typesetMath(container);
        return container.innerHTML
      } else {
        typesetMath(note);
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      typesetMath(note);
      return note.innerHTML;
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>